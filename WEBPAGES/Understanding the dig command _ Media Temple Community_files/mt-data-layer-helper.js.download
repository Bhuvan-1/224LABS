var MT=window.MT||{};MT.Modules=MT.Modules||{},MT.Modules.dataLayerHelper=function(){function t(t,e,n){var r;return function(){var o=this,i=arguments,c=n&&!r,a=function(){r=null,n||t.apply(o,i)};clearTimeout(r),r=setTimeout(a,e),c&&t.apply(o,i)}}function e(t){var e="; "+document.cookie,n=e.split("; "+t+"=");return 2===n.length?n.pop().split(";").shift():""}function n(t){var n=window.decodeURIComponent(e(t));if(!n)return{};try{return window.JSON.parse(n)}catch(r){return{}}}function r(t){window.dataLayer=window.dataLayer||[],"object"==typeof t&&window.dataLayer.push(t)}function o(t,e){var n={event:"trackEvent"},o=0,i=t.length;for(o;o<i;o++)n[_[o]]=t[o];e&&(n=Object.assign({},n,e)),r(n)}function i(t){var e,n,r,i=[25,50,75,100],c=window.pageYOffset,a=window.innerHeight,u=document.body.clientHeight,s=i.indexOf(w),l=i.length-1;if(e=c/(u-a),n=Math.round(100*e),n>w)for(l;l>s;l--)if(n>=i[l]){w=i[l],r=["Scroll Depth",document.title,n],o(r);break}}function c(t){w=0}function a(t,e){e.preventDefault(),setTimeout(function(){window.location=t},700)}function u(t){function e(){return""!==u&&(u&&null===u.match(/^#/)&&null===i||"_blank"!==i)}var n=t.target,r=n.getAttribute(g),i=n.getAttribute("target"),c=[],u=n.getAttribute("href")||"";r&&(c=r.split("::"),c.forEach(function(t,e,n){var r;return t.substr(0,2)===T&&(r=t.replace("$$",""),n[e]=p[r]),t}),e()&&a(u,t),o(c))}function s(){window.addEventListener("scroll",t(i,100)),window.addEventListener("resize",t(c,100))}function l(){document.body.addEventListener("click",u)}function d(){var t,r,o="mt_user",i="blast",c={};return""!==e(o)&&(t=n(o),c[E.LOGGED_IN]="True",c[E.ACCOUNT_ID]=t.selectedAccount||"",c[E.USER_ID]=t.selectedUser||"",""!==e(i)&&(r=n(i),c[E.PURCHASER]=r.purchaser?"True":"False",c[E.PRODUCTS_OWNED]=r.products_owned||"",c[E.USER_TYPE]=r.user_type||"",c[E.COMPANY]=r.company||"",c[E.TITLE]=r.title||"",c[E.USER_MARKETING_TYPE]=r.user_marketing_type||"",c.t_existing_customer=r.purchaser?"1":"0",c.t_new_customer=r.purchaser?"0":"1")),c}function f(t,e){var n,i="mt-ga-user",c={},a=d();c[E.LOGGED_IN]="False",c[E.PURCHASER]="False",c[E.USER_TYPE]="Visitor",c[E.USER_MARKETING_TYPE]="Visitor",c.t_existing_customer="0",c.t_new_customer="1",n="object"==typeof t&&null!==t?Object.assign({},c,a,t):Object.assign({},c,a),document.cookie=i+"="+window.encodeURIComponent(JSON.stringify(n)),e&&e.length>0?o(e,n):r(n)}var E={LOGGED_IN:"Logged In",USER_ID:"User ID",ACCOUNT_ID:"Account ID",SITE_SECTION:"Site Section",PURCHASER:"Purchaser",PRODUCTS_OWNED:"Products Owned",USER_TYPE:"User Type",USER_MARKETING_TYPE:"User Marketing Type",COMPANY:"Company",TITLE:"Title"},T="$$",p=(window.innerHeight,{PAGE_TYPE:document.title}),_=["eventCategory","eventAction","eventLabel"],g="data-ga-click-event",w=0;return"function"!=typeof Object.assign&&(Object.assign=function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n}),{initDL:f,keysConfig:E,initScrollTracking:s,trackEvent:o,initClickTracking:l,addToDataLayer:r,getCookieValue:e}}();